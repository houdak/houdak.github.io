---
import Layout from '../layouts/Layout.astro';

// Authors strings support <strong> to bold your name.
const publications = [
	{
		year: "2023",
		title: "Excitation-transcription coupling, neuronal gene expression and synaptic plasticity",
		authors: "Ma H, <strong>Khaled HG</strong>, Wang X, Mandelberg NJ, Cohen SM, He X, Tsien RW",
		journal: "Nature Reviews Neuroscience",
		journalDetail: "24(11): 672–692",
		doi: "https://doi.org/10.1038/s41583-023-00742-5",
		note: "Review",
	},
	{
		year: "2023",
		title: "Opto4E-BP, an optogenetic tool for inducible, reversible, and cell type-specific inhibition of translation initiation",
		authors: "Alapin JM, Mohamed MS, Shrestha P, <strong>Khaled HG</strong>, Vorabyeva AG, Bowling HL, Oliveira MM, Klann E",
		journal: "bioRxiv",
		journalDetail: "",
		doi: "https://doi.org/10.1101/2023.08.30.554643",
		note: "Preprint",
	},
	{
		year: "2021",
		title: "A high-throughput screening to identify small molecules that suppress huntingtin promoter activity or activate huntingtin-antisense promoter activity",
		authors: "<strong>Khaled HG</strong>, Feng H, Hu X, Sun X, Zheng W, Li PP, Rudnicki DD, Ye W, Chen YC, Southall N, Marugan J, Ross CA, Ferrer M, Henderson MJ, Margolis RL",
		journal: "Scientific Reports",
		journalDetail: "11: 6157",
		doi: "https://doi.org/10.1038/s41598-021-85279-2",
		note: "",
	},
	{
		year: "2018",
		title: "Excitatory and inhibitory synapse reorganization immediately after critical sensory experience in a vocal learner",
		authors: "Huang Z, <strong>Khaled HG</strong>, Kirschmann M, Gobes SMH, Hahnloser RHR",
		journal: "eLife",
		journalDetail: "7: e37571",
		doi: "https://doi.org/10.7554/eLife.37571",
		note: "",
	},
];
---

<Layout title="Publications — Houda Khaled">
	<main>
		<header class="page-header">
			<p class="eyebrow">Research</p>
			<h1>Publications</h1>
			<div class="rule"></div>
		</header>

		<section class="pub-list reveal">
			{publications.map(pub => (
				<article class="pub-entry">
					<div class="pub-year">
						<span class="year-num">{pub.year}</span>
						{pub.note && <span class="pub-note">{pub.note}</span>}
					</div>
					<div class="pub-body">
						<p class="pub-title">{pub.title}</p>
						<p class="pub-authors" set:html={pub.authors} />
						<p class="pub-journal">
							{pub.journal}{pub.journalDetail ? `. ${pub.journalDetail}` : ''}
						</p>
						{(pub.doi || pub.pdfUrl) && (
							<div class="pub-links">
								{pub.doi && (
									<a href={pub.doi} target="_blank" rel="noopener noreferrer" class="pub-link">
										DOI ↗
									</a>
								)}
								{pub.pdfUrl && (
									<a href={pub.pdfUrl} target="_blank" rel="noopener noreferrer" class="pub-link">
										PDF ↗
									</a>
								)}
							</div>
						)}
					</div>
				</article>
			))}
		</section>
	</main>
</Layout>

<script>
	document.addEventListener('astro:page-load', () => {
		const reveals = document.querySelectorAll<HTMLElement>('.reveal');
		const io = new IntersectionObserver((entries) => {
			entries.forEach(e => {
				if (e.isIntersecting) {
					(e.target as HTMLElement).classList.add('in-view');
					io.unobserve(e.target);
				}
			});
		}, { threshold: 0.05 });
		reveals.forEach(el => io.observe(el));
	});
</script>

<style>
	main {
		position: relative;
		z-index: 1;
		max-width: 900px;
		margin: 0 auto;
		padding: 3rem 1.5rem 7rem;
	}

	/* ── Page header ── */
	.page-header { margin-bottom: 4rem; }

	.eyebrow {
		font-family: 'Space Mono', monospace;
		font-size: 0.68rem;
		letter-spacing: 0.14em;
		text-transform: uppercase;
		color: var(--ink-muted);
		margin-bottom: 0.6rem;
	}

	h1 {
		font-family: 'Space Grotesk', sans-serif;
		font-weight: 700;
		font-size: clamp(3rem, 10vw, 5.5rem);
		line-height: 0.95;
		letter-spacing: -0.03em;
		margin-bottom: 1.5rem;
		color: var(--ink);
		text-shadow:
			0 0 50px rgba(57,255,20,0.2),
			0 0 120px rgba(57,255,20,0.07);
	}

	.rule {
		height: 1px;
		background: linear-gradient(to right, var(--gfp), var(--ink-dim) 55%, transparent);
	}

	/* ── Publication list ── */
	.pub-list {
		display: flex;
		flex-direction: column;
	}

	.pub-entry {
		display: grid;
		grid-template-columns: 5.5rem 1fr;
		gap: 2rem;
		padding: 2rem 0;
		border-bottom: 1px solid var(--ink-dim);
	}
	.pub-entry:last-child { border-bottom: none; }

	@media (max-width: 600px) {
		.pub-entry { grid-template-columns: 1fr; gap: 0.5rem; }
	}

	/* ── Year column ── */
	.pub-year {
		display: flex;
		flex-direction: column;
		gap: 0.5rem;
		padding-top: 0.1rem;
	}

	.year-num {
		font-family: 'Space Mono', monospace;
		font-size: 1.2rem;
		line-height: 1;
		color: var(--gfp);
		text-shadow: 0 0 12px rgba(57,255,20,0.4);
	}

	.pub-note {
		font-family: 'Space Mono', monospace;
		font-size: 0.6rem;
		font-weight: 700;
		letter-spacing: 0.08em;
		text-transform: uppercase;
		border: 1px solid rgba(255,61,154,0.5);
		color: var(--mcherry);
		padding: 0.15rem 0.45rem;
		width: fit-content;
	}

	/* ── Body column ── */
	.pub-title {
		font-weight: 500;
		font-size: 1rem;
		line-height: 1.45;
		margin-bottom: 0.4rem;
		color: var(--ink);
	}

	.pub-authors {
		font-size: 0.86rem;
		color: var(--ink-muted);
		margin-bottom: 0.25rem;
		line-height: 1.5;
	}

	.pub-authors :global(strong) {
		color: var(--ink);
		font-weight: 600;
	}

	.pub-journal {
		font-family: 'Space Mono', monospace;
		font-size: 0.72rem;
		color: var(--ink-muted);
		margin-bottom: 0.75rem;
	}

	.pub-links { display: flex; gap: 1rem; }

	.pub-link {
		font-family: 'Space Mono', monospace;
		font-size: 0.65rem;
		font-weight: 700;
		letter-spacing: 0.08em;
		text-transform: uppercase;
		text-decoration: none;
		color: var(--ink-muted);
		border-bottom: 1px solid rgba(57,255,20,0.4);
		padding-bottom: 1px;
		transition: color 0.2s, border-color 0.2s;
	}
	.pub-link:hover {
		color: var(--gfp);
		border-color: var(--gfp);
	}
</style>
